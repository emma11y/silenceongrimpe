<div class="liste">
  <h2>Liste des évènements</h2>

  <a class="liste-new" routerLink="/admin/evenement"
    >Créer un nouvel évènement</a
  >

  <div class="filtres">
    <h3>Filtrer</h3>

    <div class="row">
      <div class="col">
        <input
          type="checkbox"
          id="chkPastEvents"
          [(ngModel)]="hasDisplayPastEvents"
        />
        <label for="chkPastEvents">Afficher les évènements passés</label>
      </div>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th class="titre">Titre</th>
        <th class="date">Date</th>
        <th class="lieu">Lieu</th>
        <th class="siteWeb">Site Web</th>
        <th class="icon">STT SME</th>
        <th class="icon">AD</th>
        <th class="icon">LSF</th>
        <th class="icon">Trans-cription</th>
        <th class="icon">BIM</th>
        <th class="icon">Accès PMR</th>
        <th class="icon">STT</th>
        <th class="actions">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (evenement of evenementsFiltered; track $index) {
      <tr>
        <td class="titre">{{ evenement.titre }}</td>
        <td class="date">{{ evenement.date }} {{ evenement.annee }}</td>
        <td class="lieu">{{ evenement.lieu }}</td>
        <td class="siteWeb">
          <a [href]="evenement.siteWeb" target="_blank"
            >Site web
            <span class="sr-only"
              >de l'événèment {{ evenement.titre }} (Nouvelle fenêtre)</span
            >
            <i
              class="fa-solid fa-arrow-up-right-from-square"
              aria-hidden="true"
            ></i>
          </a>
        </td>
        <td class="icon">
          <i
            class="fa fa-solid"
            [ngClass]="{
              'fa-square-check': evenement.stt_sme,
              'fa-xmark': !evenement.stt_sme
            }"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{ evenement.stt_sme ? "Oui" : "Non" }}</span>
        </td>
        <td class="icon">
          <i
            class="fa fa-solid"
            [ngClass]="{
              'fa-square-check': evenement.ad,
              'fa-xmark': !evenement.ad
            }"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{ evenement.ad ? "Oui" : "Non" }}</span>
        </td>
        <td class="icon">
          <i
            class="fa fa-solid"
            [ngClass]="{
              'fa-square-check': evenement.lsf,
              'fa-xmark': !evenement.lsf
            }"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{ evenement.lsf ? "Oui" : "Non" }}</span>
        </td>
        <td class="icon">
          <i
            class="fa fa-solid"
            [ngClass]="{
              'fa-square-check': evenement.transcription,
              'fa-xmark': !evenement.transcription
            }"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{
            evenement.transcription ? "Oui" : "Non"
          }}</span>
        </td>
        <td class="icon">
          <i
            class="fa fa-solid"
            [ngClass]="{
              'fa-square-check': evenement.bim,
              'fa-xmark': !evenement.bim
            }"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{ evenement.bim ? "Oui" : "Non" }}</span>
        </td>
        <td class="icon">
          <i
            class="fa fa-solid"
            [ngClass]="{
              'fa-square-check': evenement.pmr,
              'fa-xmark': !evenement.pmr
            }"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{ evenement.pmr ? "Oui" : "Non" }}</span>
        </td>
        <td class="icon">
          <i
            class="fa fa-solid"
            [ngClass]="{
              'fa-square-check': evenement.stt,
              'fa-xmark': !evenement.stt
            }"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{ evenement.stt ? "Oui" : "Non" }}</span>
        </td>
        <td class="actions">
          <a
            class="button"
            title="Modifier"
            [routerLink]="['/', 'admin', 'evenement', evenement.id]"
          >
            <span class="sr-only">Modifier</span>

            <i class="fa fa-solid fa-pen" aria-hidden="true"></i>
          </a>

          <button type="button" title="Supprimer" (click)="onDelete(evenement)">
            <i class="fa fa-solid fa-trash" aria-hidden="true"></i>
          </button>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
